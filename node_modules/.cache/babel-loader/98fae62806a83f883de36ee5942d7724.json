{"ast":null,"code":"var _jsxFileName = \"/home/thierry/Documents/blogs/src/components/update.js\",\n    _s = $RefreshSig$();\n\nimport { Box, TextField, Typography, Container, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function update(props) {\n  _s();\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const {\n    id\n  } = useParams(); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  const [post, setPost] = useState([]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  const [data, setData] = useState({\n    id: id\n  }); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  useEffect(() => {\n    axios('http://localhost:8080/all-blogs').then(res => {\n      res.data.map(doc => {\n        // eslint-disable-next-line no-undef\n        if (doc._id == id) {\n          setPost(doc);\n        }\n      });\n      console.log(post);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handleChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setData(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const updateSubmit = e => {\n    e.preventDefault();\n    console.log(data);\n    axios.post(`http://localhost:8080/update/${id}`, data);\n    props.history.push('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      align: \"center\",\n      variant: \"h4\",\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"http://localhost:8080/update\",\n        method: \"post\",\n        onSubmit: updateSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          mt: 10,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Entrer votre nom\",\n            variant: \"outlined\",\n            name: \"nom\",\n            defaultValue: post.nom,\n            fullWidth: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Entrer votre commentaire\",\n            variant: \"outlined\",\n            name: \"message\",\n            multiline: true,\n            defaultValue: post.message,\n            rows: 7,\n            fullWidth: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 5,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            fullWidth: true,\n            type: \"submit\",\n            children: \"update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_s(update, \"q2akdEzWYTQfuvN96CAFh7TFmZg=\", false, function () {\n  return [useParams];\n});","map":{"version":3,"sources":["/home/thierry/Documents/blogs/src/components/update.js"],"names":["Box","TextField","Typography","Container","Button","axios","React","useEffect","useState","useParams","update","props","id","post","setPost","data","setData","then","res","map","doc","_id","console","log","catch","err","handleChange","e","name","target","value","prevState","updateSubmit","preventDefault","history","push","nom","message"],"mappings":"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","sourcesContent":["import { Box, TextField, Typography, Container, Button } from '@material-ui/core'\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router'\n\nexport default function update(props) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const { id } = useParams();\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [post, setPost] = useState([]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [data, setData] = useState({id: id});\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n        axios('http://localhost:8080/all-blogs')\n            .then(res => {\n               res.data.map((doc) => {\n                    // eslint-disable-next-line no-undef\n                    if(doc._id == id){\n                        setPost(doc)\n                    }\n               })\n               console.log(post)\n            })\n            .catch(err => { console.log(err) })\n\n    }, [])\n\n    const handleChange = (e) => {\n        let name = e.target.name\n        let value = e.target.value\n        setData(prevState => ({ ...prevState, [name]: value }))\n    }\n\n    const updateSubmit = (e) => {\n        e.preventDefault()\n        console.log(data)\n        axios.post(`http://localhost:8080/update/${id}`, data)\n        props.history.push('')\n    }\n\n    return (\n        <div>\n            <Typography align=\"center\" variant=\"h4\">Update</Typography>\n            <Container maxWidth=\"xs\">\n                <form action=\"http://localhost:8080/update\" method=\"post\" onSubmit={updateSubmit}>\n                    <Box mb={2} mt={10}>\n                        <TextField\n                            label=\"Entrer votre nom\"\n                            variant=\"outlined\"\n                            name=\"nom\"\n                            defaultValue={post.nom}\n                            fullWidth\n                            onChange={handleChange}\n                        />\n                    </Box>\n                    <Box\n                        mb={2}>\n                        <TextField\n                            label=\"Entrer votre commentaire\"\n                            variant=\"outlined\"\n                            name=\"message\"\n                            multiline\n                            defaultValue={post.message}\n                            rows={7}\n                            fullWidth\n                            onChange={handleChange}\n                        />\n                    </Box>\n                    <Box mb={5}>\n                        <Button variant=\"contained\" color=\"primary\" fullWidth type=\"submit\">\n                         update\n                        </Button>\n                    </Box>\n                </form>\n            </Container>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}